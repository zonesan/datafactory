<div class="content">
  <project-page>
    <div>
      <div class="page-header page-header-bleed-right">
        <h1>Applications</h1>
      </div>
      <alerts alerts="alerts"></alerts>
      <table class="table table-bordered table-hover table-mobile">
        <thead>
        <tr>
          <th>应用名称</th>
          <th>应用编排时间</th>
          <th>服务个数</th>
          <th>后端服务个数</th>
          <th>域名</th>
        </tr>
        </thead>
        <tbody ng-if="(apps | hashSize) == 0">
        <tr><td colspan="6"><em>{{emptyMessage}}</em></td></tr>
        </tbody>
        <tbody ng-repeat="app in apps | orderObjectsByDate : true">
        <tr>
          <td data-title="Name"><a href="{{app | navigateResourceURL}}">{{app.metadata.name}}</a></td>
          <td data-title="CreationTime">
            <relative-timestamp timestamp="app.metadata.creationTimestamp" drop-suffix="true"></relative-timestamp>
          </td>
          <td data-title="BackingserviceinstanceNum">
            <a data-toggle="collapse" href="#backing-service-instance">{{app.spec.items | serviceLenFilter: 'Backingserviceinstance'}}</a>
            <div class="collapse" id="backing-service-instance">
              <span ng-repeat="item in app.spec.items | filter: 'Backingserviceinstance' as results track by item.kind">
                <a ng-href="project/{{projectName}}/backingserviceinstances/{{item.name}}">{{item.name}}</a>
              </span>
            </div>
          </td>
          <td data-title="BackingserviceNum">
            <a data-toggle="collapse" href="#backing-service">{{app.spec.items | serviceLenFilter: 'Backingservice'}}</a>
            <div class="collapse" id="backing-service">
              <span ng-repeat="item in app.spec.items | filter: 'Backingservice' as results track by item.kind">
                <a href="backingservices/{{item.name}}">{{item.name}}</a>
              </span>
            </div>
          </td>
          <td data-title="Host">

          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </project-page>
</div>
